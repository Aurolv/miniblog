<%= form_with(model: @post, class: "post-form") do |form| %>
  <% if @post.errors.any? %>
    <div id="error_explanation" class="post-errors" role="alert">
      <h2>
        <%= pluralize(@post.errors.count, "error") %> prohibited this post from being saved:
      </h2>
      <ul>
        <% @post.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="post-field">
    <%= form.label :title, "Title", class: "post-label" %>
    <%= form.text_field :title,
          class: ["post-input", ("post-input--error" if @post.errors[:title].any?)].compact,
          placeholder: "Amazing post title" %>
  </div>

  <div class="post-field">
    <%= form.label :body, "Body", class: "post-label" %>
    <%= form.text_area :body, rows: 8,
          class: ["post-textarea", ("post-textarea--error" if @post.errors[:body].any?)].compact,
          placeholder: "Write your storyâ€¦" %>
  </div>

  <div class="post-field">
    <%= form.label :status, "Status", class: "post-label" %>
    <%= form.select :status,
          options_for_select([["Draft", "draft"], ["Published", "published"]], @post.status),
          {},
          class: "post-select" %>
  </div>

  <div class="post-actions">
    <%= form.submit (@post.persisted? ? "Save changes" : "Create post"), class: "btn-primary" %>
    <%= link_to "Cancel", (@post.persisted? ? post_path(@post) : posts_path), class: "btn-secondary" %>
  </div>
<% end %>
